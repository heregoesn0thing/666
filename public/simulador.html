<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Simulador ATC</title>

<!-- CSS -->
<link rel="stylesheet" href="/style.css">

<!-- Leaflet -->
<link rel="stylesheet"
      href="https://unpkg.com/leaflet/dist/leaflet.css"/>

</head>
<body>

<!-- ===============================
     MAPA
================================= -->
<div id="map"></div>


<!-- ===============================
     PANEL MENU CONTROLES
================================= -->
<div id="menuControles">

  <div class="contenido-lateral">

   <!-- ===============================
     GRUPO TAXI
================================= -->
<div class="grupo">
  <div class="titulo-grupo">TAXI</div>

  <div class="taxi-row">
    <button class="btn-lateral taxi-btn" id="taxiCreate">
      RUTA
    </button>

    <button class="btn-lateral taxi-btn" id="taxiStart">
      START
    </button>

    <button class="btn-lateral taxi-btn" id="taxiHold">
      HOLD
    </button>
  </div>
</div>

    <!-- GRUPO LANDING CONTROL -->
    <div class="grupo">

      <div class="titulo-grupo">LANDING CONTROL</div>

      <!-- Botones principales en fila -->
      <div class="landing-principales">

        <button class="btn-lateral landing-main"
                onclick="toggleCleared(this)">
          CLEARED
        </button>

        <button class="btn-lateral landing-main touch"
                onclick="activarPrincipal(this)">
          T&G
        </button>

        <button class="btn-lateral landing-main goaround"
                onclick="activarPrincipal(this)">
          G. A.
        </button>

      </div>

      <!-- Subopciones CLEARED -->
      <div class="landing-opciones" id="landingOpciones">

        <button class="mini-btn"
                onclick="seleccionarSubOpcion(this)">A</button>

        <button class="mini-btn"
                onclick="seleccionarSubOpcion(this)">B</button>

        <button class="mini-btn"
                onclick="seleccionarSubOpcion(this)">C</button>

        <button class="mini-btn"
                onclick="seleccionarSubOpcion(this)">D</button>

        <button class="mini-btn"
                onclick="seleccionarSubOpcion(this)">E</button>

      </div>

    </div>
    <!-- ===============================
     GRUPO DEPARTURE
================================= -->
<div class="grupo">
  <div class="titulo-grupo">DEPARTURE</div>

  <button class="btn-lateral">Iniciar Sim</button>
  <button class="btn-lateral">Pausar Sim</button>
  <button class="btn-lateral">Reset Sim</button>
</div>


<!-- ===============================
     GRUPO CIRCUIT
================================= -->
<div class="grupo">
  <div class="titulo-grupo">CIRCUIT</div>

  <button class="btn-lateral">Mostrar Tags</button>
  <button class="btn-lateral">Ocultar Tags</button>
  <button class="btn-lateral">Modo Nocturno</button>
</div>


<!-- ===============================
     GRUPO MANUAL CONTROL
================================= -->
<div class="grupo">
  <div class="titulo-grupo">MANUAL CONTROL</div>

  <button class="btn-lateral">Contact Tower</button>
  <button class="btn-lateral">Contact Approach</button>
  <button class="btn-lateral">Contact Ground</button>
</div>

  </div>

  <!-- Bot√≥n lateral desplegable -->
  <div class="boton-lateral" onclick="togglePanelIzq()">
    <span id="iconoLateral">‚Ä∫</span>
  </div>

</div>

<!-- =========================================
     BOT√ìN FLOTANTE INFERIOR DERECHO
========================================= -->

<div id="fabContainer">

  <div class="fab-row">

    <!-- Bot√≥n eliminar (oculto por defecto) -->
    <button id="fabDeletePlane" class="fab-delete hidden">üóë</button>

    <!-- Bot√≥n principal -->
    <button id="fabMain">+</button>

  </div>

  <div class="fab-options" id="fabOptions">
    <button class="fab-btn" id="fabCreatePlane">‚úàÔ∏è</button>
    <button class="fab-btn">F2</button>
    <button class="fab-btn">F3</button>
    <button class="fab-btn">F4</button>
    <button class="fab-btn">F5</button>
  </div>

</div>
<!-- ===============================
     LIBRER√çAS
================================= -->

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>


<!-- ===============================
     UI SCRIPT
================================= -->
<script>

/* ===============================
   PANEL DESPLEGABLE
================================= */

function togglePanelIzq(){
    const panel = document.getElementById("menuControles");
    const icono = document.getElementById("iconoLateral");

    panel.classList.toggle("activo");

    icono.textContent =
        panel.classList.contains("activo") ? "‚Äπ" : "‚Ä∫";
}


/* ===============================
   LANDING CONTROL
================================= */

function activarPrincipal(btn){
    document
      .querySelectorAll(".landing-main")
      .forEach(b => b.classList.remove("activo"));

    btn.classList.add("activo");

    document
      .getElementById("landingOpciones")
      .classList.remove("activo");
}

function toggleCleared(btn){

    activarPrincipal(btn);

    const opciones =
        document.getElementById("landingOpciones");

    opciones.classList.toggle("activo");
}

function seleccionarSubOpcion(btn){

    document
      .querySelectorAll(".mini-btn")
      .forEach(b => b.classList.remove("activo"));

    btn.classList.add("activo");
}

</script>

</body>
</html>